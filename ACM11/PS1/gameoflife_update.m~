function new_status = gameoflife_update(status)
    %Get and store dimensions of the input matrix
    sz = size(status);
    dim1 = sz(1);
    dim2 = sz(2);
    
    
    totals = zeros(dim1,dim2);
    for a=1:dim1
       for b=1:dim2
           if a~=1
              totals(a,b) = totals(a,b) + status(a-1,b);
              if b~=1
                  totals(a,b) = totals(a,b) + status(a-1,b-1);
              end
              if b~=dim2
                  totals(a,b) = totals(a,b) + status(a-1,b+1);
              end
           end
           if a~=dim1
              totals(a,b) = totals(a,b) + status(a+1,b);
              if b~=1
                  totals(a,b) = totals(a,b) + status(a+1,b-1);
              end
              if b~=dim2
                  totals(a,b) = totals(a,b) + status(a+1,b+1);
              end
           end
           if b~=1
               totals(a,b) = totals(a,b) + status(a,b-1);
           end
           if b~=dim2
               totals(a,b) = totals(a,b) + status(a,b+1);
           end
       end
    end
    
    new_status = zeros(dim1,dim2);
    new_status(status==1 & totals>=2) = 1;
    new_status(status==1 & (totals<=1 | totals>=4)) = 0;
    new_status(status==0 & totals==3) = 1;
end